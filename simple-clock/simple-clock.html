<!DOCTYPE html>
<html>
<head>
    	<meta charset="utf-8">
        <title>Simple clock</title>
</head>
<body>
    <div>
        <canvas id="clock_canvas" width="300" height="300">
    </div>
</body>
<script>
function draw_circle(){
	let canvas = document.getElementById("clock_canvas");
	let ctx = canvas.getContext("2d");
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	ctx.beginPath();
	ctx.arc(150, 150, 150, 0, 2 * Math.PI);
	ctx.stroke(); 
}

function draw_indicator(data,unit_in_rad,length){
	/*
	* this function is used to draw the clock indicators 
	* data is the numeric value
	* unit_in_rad the width of the angle in rad of one unit of data 
	* es: 1 minute is 1/30 pi
	* length is the desired lenght of the indicator
	*/ 
	let canvas = document.getElementById("clock_canvas");
	let ctx = canvas.getContext("2d");
	
	let curr_angle_rad = (data * Math.PI) / unit_in_rad;
	//we add a fixed amount to change the start position
	curr_angle_rad = curr_angle_rad + (1/6 * Math.PI * 45); 
	
	let x = 150 + length*Math.cos(curr_angle_rad);
	let y = 150 + length*Math.sin(curr_angle_rad);
	
	ctx.beginPath();
	ctx.moveTo(150,150);
	ctx.lineTo(x,y);
	ctx.stroke();
	
}

function draw_hours(hours){
	draw_indicator(hours,6,100);
}

function draw_minutes(mins){
	draw_indicator(mins,30,120);
}

function draw_seconds(seconds){
	draw_indicator(seconds,30,150);
}

function update_date(){
		let today = new Date();
		let curr_hour =  today.getHours();
		let curr_minute = today.getMinutes();
		let curr_seconds= today.getSeconds();
		draw_circle();
		draw_hours(curr_hour);
		draw_minutes(curr_minute);
		draw_seconds(curr_seconds);
}

update_date();
setInterval(update_date, 1000); //clock updated every second
</script>
</html>